
onPageContentSave:
	Get page from moderation table
		If there is an entry
			Set to not approved
		Else
			Create a new entry with approved = false


onApprove:
	Find page in moderation table
		Set approved
		Save new approved revision
		
			
onShowPage:
	If the user is an editor
		Show last revision and request approve/disapprove
	Else if the user is the creator of the page
		Show the page with a text telling it is pending for approval
	Else
		Show last approved rev
	
			
showLastApprovedRev(data):	
	If page is approved
		Do nothing, normal flow
	Else 
		if it has a last approved version
			Show last approved version
		Else
			Redirect to /index
